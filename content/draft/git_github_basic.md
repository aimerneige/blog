# Git & GitHub 入门教程

之前阅读过很多 git 和 GitHub 的文章或资料，这些文章或资料有的写的十分简陋、内容过少，还有的难以上手，不适合新手阅读，当然，也有一些十分优秀的作品（后附）但是我还是想以自己的方式来写一篇通俗易懂而且涵盖常用指令教程。

记得之前看过一篇文章，[《关于计算机科学的 50 个误解》](http://www.ruanyifeng.com/blog/2019/11/50-cs-falsehoods.html)，这篇文章中提到这样一个误解：

> git 和 GitHub 是同义词。

虽然这篇文章把 `git` 和 `GitHub` 放在了一起，但是它们并不是一个东西，而且差别很大，接下来我会分别介绍它们。

## Git

```bash
 _____
< Git >
 -----
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```

### Git 是什么

如果你去查资料，你会发现 Git 是一个 **分布式版本控制软件** 光看这个定义我想你并不能理解到底什么是 git ，不过不用担心，接下来我会让你理解它。

先把这个奇怪的定义放一边吧，我们设想这样一种情境：

假如你正在开发一个项目，在开发过程中，你发现单纯的更新日志已经不能满足你的需求，你想不仅想要记录每一次更新中更改的内容，而且希望可以在未来随时查看之前的代码。你会怎么做呢？

最简单的方法就是直接将整个项目文件夹复制一份，并且将文件夹进行规范化的命名。比如我们可以在修改完成后将整个项目复制到名为“修改日期-修改人-修改内容”的文件夹中，以后需要的话可以直接打开旧版本的文件夹，将文件复制出一份进行修改。

就像这样：

```bash
├── 2020-01-12-AimerNeige_first_update
│   └── ...
├── 2020-01-19-AimerNeige_fix_something
│   └── ...
├── 2020-01-21-AimerNeige_make_ui_look_better
│   └── ...
├── 2020-01-29-Farewell_encrypt_data
│   └── ...
├── 2020-02-12-AimerNeige_fix_bugs
│   └── ...
└── current_project
    └── ...
```

但是这样会有很多问题

1. 你的文件目录会很乱
2. 大量重复文件，浪费电脑存储空间
3. 难以进行多人协作

而 git 就是用来解决这些问题的。它可以进行版本控制，记录你的修改内容，可以随时回退版本，并且有良好的多人协作支持。

那么什么是分布式呢？相对与分布式的，是集中式。对比起来更容易理解，先说集中式版本控制系统：

集中式版本控制系统的版本库是集中存放在中央服务器的，也就是整个项目的所有文件都不是保存在你的电脑上，而是保存在服务器上，而我们需要进行开发的时候，我们不可能使用服务器来开发，我们都是使用自己的电脑，所以我们必须先从服务器下载到最新的版本，然后进行修改，修改完后，再把自己的修改推送给中央服务器。中央服务器就好比是一个图书馆，你要改一本书，必须先从图书馆借出来，然后回到家自己改，改完了，再放回图书馆。

看起来很不错，但是仔细想想就会发现一个很严重的问题：如果没有网络，就无法获取最新的版本，也就没有办法进行开发，即使获取到了最新的版本，没有网络也无法将本地的修改推送到服务器上，也就是说，离开网络，完全没有办法进行工作。如果是局域网还可以接受，毕竟局域网带宽够大，速度够快，但是如果在互联网上，遇到网速慢的话，可能需要消耗大量的时间在文件传输上，十分浪费时间

那什么是分布式呢？首先，分布式版本控制系统没有“中央服务器”的概念，每个人的电脑上都是一个完整的版本库，也就是拥有完整的历史记录，这样，在工作的时候，就不需要联网了，因为版本库就在自己的电脑上。那么如何解决协作问题呢？实际上很简单，比如你修改了 A 文件，你的同事也修改了 A 文件，你们只需要将修改的内容推送给对方就可以了。

和集中式版本控制系统，分布式版本控制系统的安全性更高，因为每个人电脑里都有完整的版本库，如果一个人的电脑坏了，没关系，只需要重别人那里复制一个就可以了。但是集中式版本控制系统的中央服务器一旦出了问题，所有人都没有办法工作了。

在实际使用分布式版本控制系统的时候，其实很少在两人之间的电脑上推送版本库的修改，因为可能你们俩不在一个局域网内，两台电脑互相访问不了，也可能今天你的同事病了，他的电脑压根没有开机。因此，分布式版本控制系统通常也有一台充当“中央服务器”的电脑，但这个服务器的作用仅仅是用来方便“交换”大家的修改，相当与一个共享网盘，没有它大家也一样可以进行工作，只是交换修改不方便而已。

我相信你已经对 git 有一个基本的认识了，你应该了解 git 是用来干什么的，它是用来记录你的修改记录并帮助团队进行协作开发的一个工具。随着对 git 的指令的学习，你将会进一步的了解 git。

接下来，我会介绍常用的 git 指令。

### git 的安装

前面说到 git 是一个软件，那么首先，我们应该安装它。

最早 git 是在 Linux 上开发的，很长一段时间内，git 也只能在 Linux 和 Unix 系统上跑。不过，慢慢地有人把它移植到了 Windows 上。现在，git 可以在 Linux、Unix、Mac 和 Windows 这几大平台上正常运行了。

#### 在 Linux 上安装 git

有一些发行版会自带 git，并不需要安装，你可以通过在终端执行 `git` 指令来查看当前系统是否安装了 git，如果没有，可以按照下面的说明安装它：

如果你正在使用 Debian 系操作系统，可以使用如下命令安装：

```bash
sudo apt install git
```

类似地，在其他发行版也可以直接通过包管理器直接安装，这里不多赘述。

当然，如果愿意，你也可以在[官网](https://git-scm.com/)下载 git 的源代码自己编译。

#### 在 Windows 上安装 git

首先访问 git 的官网： <https://git-scm.com/>

在官网按照自己的需求下载 32 位或 64 位的安装包（不会还有人在用 32 位系统了吧），不用纠结版本，直接下载最新版即可（由于某些玄学问题，下载可能会很慢，这个自己解决吧），下载完成后会得到一个 exe 文件，直接运行它，赋予管理员权限之后，git 会要求你按照自己的喜好修改一系列的配置，如果你想要修改它们，你可以按照提示修改，但是如果你是第一次安装 git，不清楚这些配置的含义，也不在乎这些设置，你可以按照 git 推荐的默认设置，直接狂点下一步就可以了，安装完成后，在桌面或任意文件夹下单击右键，你应该可以看到 `Git Bash Here` 这个选项，这时候，git 安装就完成了。

#### 在 Mac OS X 上安装 git

如果你愿意的话，可以先安装 homebrew，然后使用 homebrew 安装 git，具体安装方法自行查阅 homebrew 的文档，这里不多介绍了。

如果你嫌麻烦也可以在 AppStore 装一个 XCode，XCode 会集成安装 git，非常方便。

### git 的初始化配置

在使用 git 前，需要对 git 进行初始化配置，你要向 git 提供一个用户名和电子邮箱地址作为你的个人信息，毕竟 git 是为了多人协作而诞生的，在修改记录中要记录修改人的信息。没有你的个人信息，git 会因为无法进行记录而拒绝工作。

在任意目录下启动 git bash（你也可以使用 powershell 或你喜欢的终端模拟器）

输入如下指令来配置你的用户名和邮箱地址：

```bash
git config --global user.name "AimerNeige"
git config --global user.email "aimer.neige.soft@gmail.com"
```

这里是我的用户名和邮箱，注意替换内容。

这里的用户名和邮箱你可以随意设置，它会被用来保存在 git 历史中，并不需要和其他社区（如 GitHub）相同。

### git 指令

安装并进行了必要的配置后，就可以开始使用 git 了。

或许你知道一些图形化的软件可以通过鼠标操作界面来执行各种 git 操作，但是，我还是建议使用终端指令，因为这些软件有很多，不同的软件会有不同的操作方法，不可能都讲到，而且这些软件实际上都是在执行终端指令，而 git 本身是一个命令行软件，它没有提供 gui，这些软件只是辅助作用，所以接下来对 git 的学习都是在终端下进行的。

由于 git 是一个命令行软件，你需要在终端输入指令在可以使用 git，在 Linux 下，你可以随意选择自己喜欢的终端模拟器，在 Windows 下，你可以直接使用 git bash 作为终端，如果你觉得它太丑的话，你也可以使用 powershell 或其他终端模拟器。

在进行接下来的操作之前，新建一个文件夹用来存放你的学习项目，在当前的文件夹下开启终端，即可执行 git 指令。接下来的演示会使用一个空仓库来进行演示。

在 Windows 下，你可以直接右键新建一个文件夹，然后在这个文件夹内开启终端即可。（在 Windows 下，你可以在你的项目文件夹右击右键，选择 `Git Bash Here` 来启动 git bash。）

**注意：如果你使用 Windows 系统，为了避免遇到各种莫名其妙的问题，请确保目录名（包括父目录）不包含中文。**

#### 初始化 git 仓库

首先，第一个指令是如何初始化一个 git 仓库。

```bash
git init
```

我们可以在一个非 git 仓库的项目目录下执行 `git init` 来初始化一个 git 仓库。

执行完这个指令后，这个文件夹就变成了一个 git 仓库，你会发现你的文件夹下多了一个名称为 `.git` 的隐藏文件夹，这个文件夹下保存的就是 git 生成的文件。你不需要在意里面有什么，你也不需要修改他们，除非你在想要研究 git 的工作原理。如果你只是想要使用 git 的话，把它交给 git 来处理就好了。如果你不想让 git 托管这个项目了，你可以删掉这个文件夹，这个目录就不再是一个 git 仓库，而是变成了一个普通的文件夹。

初始化完成后，你就拥有了你自己的第一个 git 仓库，接下来，在这个仓库中你可以执行更多的 git 指令了。

#### 查看仓库状态

要查看当前仓库的状态，输入 `git status` 指令

```bash
git status
```

该命令会返回当前 git 仓库的状态信息。

由于当前目录是一个空仓库，你会得到这样的输出：

```bash
$ git status
On branch master

No commits yet

nothing to commit (create/copy files and use "git add" to track)
```

接下来介绍一下这些输出的含义：

`On branch master` 当前分支为 master 分支

`No commits yet` 当前目录下没有任何提交记录

`nothing to commit` 没有可以进行提交的文件

`create/copy files and use "git add" to track` 创建或复制文件，然后使用 `git add` 来追踪

这里出现了一些还没有介绍的内容，比如分支，提交等，这些将会在之后介绍，你现在只需要记住`git status` 这个指令即可。

#### 添加一个文件到暂存区

接下来向你的空项目中写入一个文件。

你可以使用下面的命令快速创建一个空文件：

```bash
touch hello.c
```

添加一个 `hello.c` 文件后，使用 `git status` 指令， git 会提示你发现了一个未追踪的文件，文件名为 `hello.c`。

```bash
$ git status
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	hello.c

nothing added to commit but untracked files present (use "git add" to track)
```

`Untracked files` 未追踪的文件

`use "git add <file>..." to include in what will be committed` 使用 `git add <file>...` 来添加将要提交的内容

`nothing added to commit but untracked files present` 没有添加任何待提交的内容但存在未跟踪的文件

`use "git add" to track`

同时，git 提示你使用 `"git add <file>..."` 来添加这个文件到暂存区以进行提交。



```bash
$ git status
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
	new file:   hello.c
```

```bash
$ git status
On branch master
nothing to commit, working tree clean
```

---

git 是一个庞大的软件，它的功能远远不止这些，感兴趣你可以查阅官方文档或者找一些介绍 git 的书籍来进一步学习 git，但是在我看来这些常用的指令已经足够基本的使用了，如果有时间的话，我会在日后更新更多的内容。

## GitHub

```bash
 ________
< GitHub >
 --------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```

<!-- #### 代理配置

如果你不明白我在说什么，可以跳过这一部分。

如果你有代理服务器，可以通过以下的指令来配置：

##### 配置 HTTP/HTTPS 代理

启动终端，执行如下指令：

```bash
git config --global http.proxy http://127.0.0.1:1080
git config --global https.proxy https://127.0.0.1:1080
```



注意将之后的链接修改为你代理软件暴露的端口，这里设置的是全局代理，如果需要配置仅GitHub代理请自行查阅资料。 

修改 `.ssh/config` 以配置 ssh 代理服务

```config
Host github.com
HostName github.com
User git
Port 22
ProxyCommand /usr/bin/ncat --proxy 127.0.0.1:1080 --proxy-type socks5 %h %p
```

注意安装 `ncat`

-->
